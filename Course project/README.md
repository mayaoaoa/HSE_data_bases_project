## HSE-data-bases-course-project

### Task 1: проектирование базы данных и создание таблиц

База данных хранит информацию о рейсах, самолетах, пассажирах, проданные билетах, свободные местах, архиве рейсов

##### Пассажиры (один пассажир может купить несколько билетов на разные рейсы)
+ фамилия, имя, отчество (при наличии)
+ дата рождения
+ пол
+ контактные данные (телефон, e-mail)
+ паспортные данные
+ тип пассажира (взрослый, ребёнок, студент, льготник)

##### Самолёты (самолёт может участвовать в нескольких рейсах)
+ марка и модель самолёта
+ авиакомпания
+ общее количество мест

##### Аэропорты (аэропорт может быть пунктом отправления или прибытия для нескольких рейсов)
+ название аэропорта
+ город
+ страна
+ код IATA
+ контактные данные (телефон, e-mail)

##### Рейсы
+ номер рейса
+ дата и время вылета
+ примерное дата и время прибытия
+ аэропорт отправления (FK → Аэропорты)
+ аэропорт прибытия (FK → Аэропорты)
+ самолёт (FK → Самолёты)
+ статус рейса (запланирован, выполняется, завершён, отменён)

##### Билеты
+ пассажир
+ рейс
+ номер места
+ статус (куплен / возврат / неявка)

##### Структура самолёта (данная таблица содержит структуру самолёт на определённом рейсе, чтобы можно было понять, какой из пассажиров на каком месте сидел)
+ рейс
+ номер места
+ класс
+ статус (свободно / куплено)
+ стоимость
+ пассажир (опционально, если куплено)


### Task 2: написание SQL-запросов
##### Простые выборки (SELECT) – 2 запроса
+ использование фильтрации (WHERE)
+ использование сортировки (ORDER BY)
+ использование  ограничения количества строк (LIMIT, OFFSET)

##### Соединения таблиц (JOIN) – 3 запроса
+ демонстрация объединения данных из двух и более таблиц
+ использование разных типов JOIN (INNER, LEFT/RIGHT

##### Группировка и агрегирование – 2 запроса
+ использование SUM, COUNT, AVG, MIN, MAX и др.
+ фильтрация агрегированных результатов (HAVING)

##### Оконные функции – 2 запроса
+ использование аналитических функций (ROW_NUMBER, RANK, SUM/COUNT OVER и др.)
+ разделение на группы и упорядочивание

##### CTE (WITH) – 1 запрос
+ построение временных результирующих наборов
+ возможность использования многоуровневых CTE

##### Представления (VIEW) – 2 представления
+ формирование сводных или отчетных данных
+ использование разных типов представлений


### Task 3: функции и триггеры
##### Функции – 2 пользовательские функции
+ Функция должна принимать параметры и возвращать результат
+ Функция может использоваться для расчёта вычисляемых полей или вспомогательных значений, применяемых в запросах, CTE или представлениях

##### Триггеры – 2 триггера
+ Необходимо реализовать триггеры, реагирующие на разные события: INSERT, UPDATE или DELETE
+ Триггер должен выполнять осмысленное действие (например, поддерживать целостность данных, обновлять связанные записи, рассчитывать значения)

